The `/scripts` directory contains automation tools designed to transform Swift Package Manager (SPM) executable outputs into functional macOS application bundles (`.app`). The architecture of these scripts focuses on bridging the gap between command-line binaries and the macOS graphical environment by managing bundle structures, metadata injection, and process lifecycle.

### Key File Roles
*   **`bundle.sh`**: The primary release packaging script. It automates a multi-stage build process that includes:
    *   Compiling the project in release mode.
    *   Using linker flags (`-Xlinker -sectcreate`) to embed an `Info.plist` directly into the binary's `__TEXT/__info_plist` section, ensuring the binary is recognized as a valid macOS app.
    *   Constructing a standard macOS bundle hierarchy (`Contents/MacOS`, `Contents/Resources`).
    *   Applying ad-hoc code signing with specific entitlements (`com.apple.security.automation.apple-events`) to allow for automation features.
*   **`dev.sh`**: A development utility optimized for rapid iteration. It compiles the project in debug mode, creates a minimal bundle structure for local testing, and manages the execution environment by terminating existing instances of the application before launching the new build.

### Architecture and Implementation Details
The scripts utilize a "bundle-on-the-fly" approach. Rather than relying on Xcode's build system, they manually construct the `Contents` directory and `Info.plist` files. A significant architectural choice is the use of `LSUIElement` set to `true` in the generated plists, indicating the application is designed to run as a background process or an agent without a standard Dock icon.

### Dependencies and Gotchas
*   **Toolchain Dependencies**: Both scripts require the Swift toolchain and standard macOS system utilities including `codesign`, `pkill`, and `open`.
*   **System Requirements**: The `bundle.sh` script explicitly targets macOS 14.0 or later (`LSMinimumSystemVersion`).
*   **Code Signing**: The use of ad-hoc signing (`--sign -`) in `bundle.sh` satisfies local execution and notification requirements but does not provide a verified developer identity for external distribution.
*   **Linker Specifics**: The embedding of the `Info.plist` via `-sectcreate` is specific to the Mach-O binary format used by macOS and relies on the linker correctly mapping the `__TEXT` segment.
*   **Pathing**: The scripts assume they are executed from within the `/scripts` directory or rely on relative path resolution to locate the parent SwiftPM project.
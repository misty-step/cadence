The `/Users/phaedrus/Development/cadence/Tests/CadenceTests` directory contains the unit testing suite for the Cadence application, specifically targeting the core business logic of the Pomodoro timer engine. The tests are built using the modern Swift Testing framework, utilizing macros such as `@Suite` and `@Test` to validate the state machine governing time tracking and phase transitions.

### Architecture and Key File Roles
The testing architecture follows a state-driven approach, where the internal logic of the application is exercised in isolation from the user interface. 

*   **`TimerStateTests.swift`**: This is the primary test file for the `TimerState` model. It validates the integrity of the Pomodoro state machine, covering:
    *   **State Management**: Ensures initial values for focus durations (25 minutes), break durations (5/15 minutes), and session counters are accurate.
    *   **Flow Control**: Verifies the start, pause, toggle, and reset behaviors.
    *   **The Tick Mechanism**: Confirms that the `tick()` method correctly decrements time only when the timer is active and interacts with the notification system.
    *   **Phase Transitions**: Validates the logic for switching between `focus`, `shortBreak`, and `longBreak`. This includes the specific logic that triggers a long break after the fourth completed focus session.
    *   **Progress and Display**: Tests the calculation of percentage-based progress for UI components and the logic for mapping internal session counters to user-facing display values.

### Important Dependencies
*   **Swift Testing Framework**: The suite relies on the `Testing` library for test discovery, execution, and assertions via the `#expect` macro.
*   **`CadenceApp` Module**: The directory uses `@testable import` to gain access to the internal members of the main application target.
*   **`NotificationManager`**: A required dependency for the `tick()` function, used to verify that the state machine correctly signals the notification layer when a phase concludes.

### Technical Gotchas
*   **MainActor Isolation**: The test suite is marked with `@MainActor`, indicating that `TimerState` is tied to the main thread, likely because it serves as an observable object for the SwiftUI frontend.
*   **Session Reset Logic**: The state machine contains a specific behavior where `completedFocusSessions` resets to `0` immediately upon entering a long break, though a separate `displayCompletedSessions` property is used to maintain the visual count of "4" for the user during that break.
*   **Mocking**: While `NotificationManager` is instantiated, the tests primarily focus on the side effects within `TimerState` rather than the delivery of the notifications themselves.
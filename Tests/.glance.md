The `/Users/phaedrus/Development/cadence/Tests` directory houses the unit testing infrastructure for the Cadence application, primarily focused on the `CadenceTests` subdirectory which validates the core Pomodoro engine. The suite leverages the Swift Testing framework to provide a robust validation layer for the application's state-driven business logic.

### Architecture and Key File Roles
The testing architecture is designed to exercise the internal state machine of the application in isolation from the SwiftUI presentation layer.

*   **`TimerStateTests.swift`**: This file serves as the primary test suite for the `TimerState` model. It verifies the integrity of the Pomodoro lifecycle, including:
    *   **Lifecycle Management**: Validation of initialization parameters, start/pause/reset functionality, and toggle logic.
    *   **Temporal Logic**: Verification of the `tick()` mechanism, ensuring time decrements occur only during active states and correctly trigger phase-end events.
    *   **Phase Logic**: Validation of transitions between focus sessions, short breaks, and long breaks, specifically the logic governing the transition to a long break after the fourth focus session.
    *   **UI Mapping**: Testing of computed properties like progress percentages and the mapping of internal session counters to `displayCompletedSessions`.

### Important Dependencies
*   **Swift Testing Framework**: Utilizes modern Swift testing macros (`@Suite`, `@Test`) and assertions (`#expect`) for test execution and discovery.
*   **`CadenceApp` Module**: Employs `@testable import` to allow the test suite to inspect and validate the internal properties and methods of the core application.
*   **`NotificationManager`**: Integrated as a dependency within the `tick()` function tests to ensure the state machine correctly signals the system notification layer upon phase completion.

### Technical Gotchas
*   **Concurrency Isolation**: The test suite is constrained to the `@MainActor`, reflecting the `TimerState` model's requirement to synchronize with the main-thread UI as an observable object.
*   **Session Counter Divergence**: There is a specific architectural nuance where `completedFocusSessions` (internal state) resets to zero immediately upon entering a long break, while `displayCompletedSessions` (UI state) remains at four to preserve user context. Tests must account for this decoupling of internal logic and user-facing state.
*   **Side-Effect Validation**: The tests focus on verifying the internal state changes within `TimerState` resulting from `NotificationManager` interactions rather than mocking the actual delivery or scheduling of system notifications.